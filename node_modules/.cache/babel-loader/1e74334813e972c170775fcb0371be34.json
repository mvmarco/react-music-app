{"ast":null,"code":"var _jsxFileName = \"/home/mvmarco/code/mvmarco/react-music-app/src/components/LibrarySong.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LibrarySong = ({\n  songs,\n  song,\n  setcurrentSong,\n  audioRef,\n  isPlaying,\n  setSongs\n}) => {\n  const songSelectHandler = async () => {\n    const selectedSong = song; // we use awai tbecause the audio is on App.js\n\n    await setcurrentSong(selectedSong);\n    console.log(selectedSong); // add active state\n\n    /* \n      other than changing the song clicked as current song, we want to change the status\n      to active:true for the current song and active:false for the others\n       you can either take \"selectedSong\" which is the current song clicked and compare it\n      with the \"song\" of the new mapped array (newSongs), if it is equal, we change the \n      status (active true/false) and then we update the state with setSongs(newSongs);\n      \n      or we can take the song.id of the new mapped array (newSongs) compared to the id (which is the \n      id of the current song clicked) for this approach, put id in props\n       PS: we do spread because song is an object, and we change the active status property\n      Now all the songs that are not the current are false while the current is true\n    */\n\n    const newSongs = songs.map(song => {\n      if (selectedSong === song) {\n        return { ...song,\n          active: true\n        };\n      } else {\n        return { ...song,\n          active: false\n        };\n      }\n    });\n    setSongs(newSongs); // then we update the currentSong, the state, with what we just selected\n\n    setcurrentSong(selectedSong); // check if the song is playing\n\n    if (isPlaying) {\n      audioRef.current.play();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: songSelectHandler,\n    className: `library-song ${song.active ? 'selected' : \"\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: song.cover,\n      alt: song.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"song-description\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: song.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: song.artist\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n\n_c = LibrarySong;\nexport default LibrarySong;\n\nvar _c;\n\n$RefreshReg$(_c, \"LibrarySong\");","map":{"version":3,"sources":["/home/mvmarco/code/mvmarco/react-music-app/src/components/LibrarySong.js"],"names":["LibrarySong","songs","song","setcurrentSong","audioRef","isPlaying","setSongs","songSelectHandler","selectedSong","console","log","newSongs","map","active","current","play","cover","name","artist"],"mappings":";;;AAAA,MAAMA,WAAW,GAAG,CAAC;AAACC,EAAAA,KAAD;AAAQC,EAAAA,IAAR;AAAcC,EAAAA,cAAd;AAA8BC,EAAAA,QAA9B;AAAwCC,EAAAA,SAAxC;AAAmDC,EAAAA;AAAnD,CAAD,KAAkE;AAEpF,QAAMC,iBAAiB,GAAG,YAAY;AACpC,UAAMC,YAAY,GAAGN,IAArB,CADoC,CAEpC;;AACA,UAAMC,cAAc,CAACK,YAAD,CAApB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYF,YAAZ,EAJoC,CAKpC;;AACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGI,UAAMG,QAAQ,GAAGV,KAAK,CAACW,GAAN,CAAWV,IAAD,IAAU;AACnC,UAAIM,YAAY,KAAKN,IAArB,EAA2B;AACzB,eAAO,EACL,GAAGA,IADE;AAELW,UAAAA,MAAM,EAAE;AAFH,SAAP;AAID,OALD,MAKO;AACL,eAAO,EACL,GAAGX,IADE;AAELW,UAAAA,MAAM,EAAE;AAFH,SAAP;AAID;AACF,KAZgB,CAAjB;AAaAP,IAAAA,QAAQ,CAACK,QAAD,CAAR,CAjCoC,CAkCpC;;AACAR,IAAAA,cAAc,CAACK,YAAD,CAAd,CAnCoC,CAoCpC;;AACA,QAAIH,SAAJ,EAAe;AACbD,MAAAA,QAAQ,CAACU,OAAT,CAAiBC,IAAjB;AACD;AACF,GAxCD;;AAyCA,sBACE;AAAK,IAAA,OAAO,EAAER,iBAAd;AAAiC,IAAA,SAAS,EAAG,gBAAeL,IAAI,CAACW,MAAL,GAAc,UAAd,GAA2B,EAAG,EAA1F;AAAA,4BACE;AAAK,MAAA,GAAG,EAAEX,IAAI,CAACc,KAAf;AAAsB,MAAA,GAAG,EAAEd,IAAI,CAACe;AAAhC;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA,8BACE;AAAA,kBAAKf,IAAI,CAACe;AAAV;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAA,kBAAKf,IAAI,CAACgB;AAAV;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AASD,CApDD;;KAAMlB,W;AAsDN,eAAeA,WAAf","sourcesContent":["const LibrarySong = ({songs, song, setcurrentSong, audioRef, isPlaying, setSongs}) => {\n\n  const songSelectHandler = async () => {\n    const selectedSong = song;\n    // we use awai tbecause the audio is on App.js\n    await setcurrentSong(selectedSong);\n    console.log(selectedSong);\n    // add active state\n    /* \n      other than changing the song clicked as current song, we want to change the status\n      to active:true for the current song and active:false for the others\n\n      you can either take \"selectedSong\" which is the current song clicked and compare it\n      with the \"song\" of the new mapped array (newSongs), if it is equal, we change the \n      status (active true/false) and then we update the state with setSongs(newSongs);\n      \n      or we can take the song.id of the new mapped array (newSongs) compared to the id (which is the \n      id of the current song clicked) for this approach, put id in props\n\n      PS: we do spread because song is an object, and we change the active status property\n      Now all the songs that are not the current are false while the current is true\n    */\n    const newSongs = songs.map((song) => {\n      if (selectedSong === song) {\n        return {\n          ...song,\n          active: true,\n        };\n      } else {\n        return {\n          ...song,\n          active: false,\n        };\n      }\n    });\n    setSongs(newSongs);\n    // then we update the currentSong, the state, with what we just selected\n    setcurrentSong(selectedSong);\n    // check if the song is playing\n    if (isPlaying) {\n      audioRef.current.play();\n    }\n  };\n  return (\n    <div onClick={songSelectHandler} className={`library-song ${song.active ? 'selected' : \"\"}`}>\n      <img src={song.cover} alt={song.name} />\n      <div className=\"song-description\">\n        <h3>{song.name}</h3>\n        <h4>{song.artist}</h4>\n      </div>\n    </div>\n  );\n};\n\nexport default LibrarySong;\n"]},"metadata":{},"sourceType":"module"}